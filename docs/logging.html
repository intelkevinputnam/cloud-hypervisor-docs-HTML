<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Logging &mdash; Cloud Hypervisor  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using MACVTAP to Bridge onto Host Network" href="macvtap-bridge.html" />
    <link rel="prev" title="Live Migration" href="live_migration.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../README.html" class="icon icon-home"> Cloud Hypervisor
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">Cloud Hypervisor API</a></li>
<li class="toctree-l1"><a class="reference internal" href="arm64.html">How to build and test Cloud Hypervisor on AArch64</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpu.html">CPU</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-image.html">How to create a custom Ubuntu image</a></li>
<li class="toctree-l1"><a class="reference internal" href="debug-port.html"><code class="docutils literal notranslate"><span class="pre">cloud-hypervisor</span></code> debug IO port</a></li>
<li class="toctree-l1"><a class="reference internal" href="device_model.html">Device Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="fs.html">How to use virtio-fs</a></li>
<li class="toctree-l1"><a class="reference internal" href="fuzzing.html">Fuzzing in Cloud Hypervisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="gdb.html">GDB Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="hotplug.html">Cloud Hypervisor Hot Plug</a></li>
<li class="toctree-l1"><a class="reference internal" href="intel_sgx.html">Intel SGX</a></li>
<li class="toctree-l1"><a class="reference internal" href="intel_tdx.html">Intel TDX</a></li>
<li class="toctree-l1"><a class="reference internal" href="io_throttling.html">I/O Throttling</a></li>
<li class="toctree-l1"><a class="reference internal" href="iommu.html">Virtual IOMMU</a></li>
<li class="toctree-l1"><a class="reference internal" href="live_migration.html">Live Migration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Logging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#control">Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="#levels">Levels</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#error"><code class="docutils literal notranslate"><span class="pre">error!()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#warn"><code class="docutils literal notranslate"><span class="pre">warn!()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#info"><code class="docutils literal notranslate"><span class="pre">info!()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#debug"><code class="docutils literal notranslate"><span class="pre">debug!()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="macvtap-bridge.html">Using MACVTAP to Bridge onto Host Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory.html">Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiling.html">Profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="seccomp.html">Seccomp filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="snapshot_restore.html">Snapshot and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="uefi.html">UEFI Boot</a></li>
<li class="toctree-l1"><a class="reference internal" href="uefi.html#links">Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="vfio.html">Cloud Hypervisor VFIO HOWTO</a></li>
<li class="toctree-l1"><a class="reference internal" href="vfio-user.html">Cloud Hypervisor VFIO-user HOWTO</a></li>
<li class="toctree-l1"><a class="reference internal" href="vhost-user-blk-testing.html">How to test vhost-user-blk with SPDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="vhost-user-net-testing.html">How to test Vhost-user net with OpenVSwitch/DPDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="virtiofs-root.html">HOWTO VirtioFS rootfs</a></li>
<li class="toctree-l1"><a class="reference internal" href="windows.html">Windows Support</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../README.html">Cloud Hypervisor</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../README.html" class="icon icon-home"></a> &raquo;</li>
      <li>Logging</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/docs/logging.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="logging">
<h1>Logging<a class="headerlink" href="#logging" title="Permalink to this headline"></a></h1>
<p>The target audience of this document is both:</p>
<ul class="simple">
<li><p>Developers who want to understand what log level to use and when,</p></li>
<li><p>Users who want to debug issues with running their workloads in Cloud Hypervisor</p></li>
</ul>
<section id="control">
<h2>Control<a class="headerlink" href="#control" title="Permalink to this headline"></a></h2>
<p>The number of <code class="docutils literal notranslate"><span class="pre">-v</span></code> parameters passed to the <code class="docutils literal notranslate"><span class="pre">cloud-hypervisor</span></code> binary will determine the log level. Currenly the default is log messages up to <code class="docutils literal notranslate"><span class="pre">WARN:</span></code> (<code class="docutils literal notranslate"><span class="pre">warn!</span></code>) are included by default. The <code class="docutils literal notranslate"><span class="pre">--log-file</span></code> allows the log to be sent to a location other than <code class="docutils literal notranslate"><span class="pre">stderr</span></code>.</p>
</section>
<section id="levels">
<h2>Levels<a class="headerlink" href="#levels" title="Permalink to this headline"></a></h2>
<section id="error">
<h3><code class="docutils literal notranslate"><span class="pre">error!()</span></code><a class="headerlink" href="#error" title="Permalink to this headline"></a></h3>
<p>For immediate, unrecoverable errors where it does not make sense for the execution to continue as the behaviour of the VM is considerablely impacted.</p>
<p>Cloud Hypervisor should exit shortly after reporting this error (with a non-zero exit code). Generally this should be used during initial construction of the VM state before the virtual CPUs have begun running code.</p>
<p>A typical situation where this might occur is when the user is using command line options that conflict with each other or is trying to use a file that is not present on the filesystem.</p>
<p>Users should react to this error by checking their initial VM configuration.</p>
</section>
<section id="warn">
<h3><code class="docutils literal notranslate"><span class="pre">warn!()</span></code><a class="headerlink" href="#warn" title="Permalink to this headline"></a></h3>
<p>A serious problem has occured but the execution of the VM can continue although some functionality might be impacted.</p>
<p>A typical example of where this level of message should be generated is during an API call request that cannot be fulfilled.</p>
<p>The user should investigate the meaning of this warning and take steps to ensure the correct functionality.</p>
</section>
<section id="info">
<h3><code class="docutils literal notranslate"><span class="pre">info!()</span></code><a class="headerlink" href="#info" title="Permalink to this headline"></a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">-v</span></code> to enable.</p>
<p>This level is for the benefit of developers. It should be used for sporadic and infrequent messages. The same message should not “spam” the logs. The VM should be usable when this level of debugging is enabled and trying to use <code class="docutils literal notranslate"><span class="pre">stdin/stdout</span></code> and the logs are going to <code class="docutils literal notranslate"><span class="pre">stderr</span></code>.</p>
</section>
<section id="debug">
<h3><code class="docutils literal notranslate"><span class="pre">debug!()</span></code><a class="headerlink" href="#debug" title="Permalink to this headline"></a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">-vv</span></code> to enable.</p>
<p>For the most verbose of logging messages. It is acceptable to “spam” the log with repeated invocations of the same message. This level of logging would be combined with <code class="docutils literal notranslate"><span class="pre">--log-file</span></code>.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="live_migration.html" class="btn btn-neutral float-left" title="Live Migration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="macvtap-bridge.html" class="btn btn-neutral float-right" title="Using MACVTAP to Bridge onto Host Network" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, various.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>